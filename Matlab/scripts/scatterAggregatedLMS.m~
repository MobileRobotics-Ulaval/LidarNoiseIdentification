%sensor = {'urg', 'utm', 'lms'};
%location = {'indoor', 'outdoor'};
%variable = {'d','err','inc','int','lat','lon','err_d'};

% Distance
figure;
step = 22;
dInt = aggregateData_distance('lms','outdoor','int');
dErr = aggregateData_distance('lms','outdoor','err_d');
dDist = aggregateData_distance('lms','outdoor','d');
%dInc = aggregateData_distance('lms','outdoor','inc');

dInt = dInt(1:step:end);
dErr = dErr(1:step:end);
dDist = dDist(1:step:end);
%dInc = dInc(1:step:end);

dInt = dInt(dInt>0);
dErr = dErr(dInt>0);
dDist = dDist(dInt>0);
%dInc = dInc(dInt>0);

dInt = dInt(dInt<2000);
dErr = dErr(dInt<2000);
dDist = dDist(dInt<2000);
%dInc = dInc(dInt<2000);
hold on;

scatter(dInt, dErr, 4, dDist);
[dx, dy, dw] = statsPerBin(dInt, dErr, 50);
plot(dx(:,1),dy(:,1),'--k')
plot(dx(:,1),dy(:,2),'.k')
plot(dx(:,1),dy(:,3),'--k')  

title('All plates : Color = distance')
xlabel('intensity');
ylabel('error (m)');
%ylim([-0.1, 0.1]);
%xlim([0, 14000]);

%%
%Angles
figure;
step = 5;

aInt = aggregateData_angles('lms','int');
aErr = aggregateData_angles('lms','err_d');
aInc = aggregateData_angles('lms','inc');

aInt = aInt(1:step:end);
aErr = aErr(1:step:end);
aInc = aInc(1:step:end);

aInt = aInt(dInt>0);
aErr = aErr(dInt>0);
aInc = aInc(dInt>0);

aInt = aInt(dInt<2000);
aErr = aErr(dInt<2000);
aInc = aInc(dInt<2000);

hold on;
scatter(aInt, aErr, 4, aInc);
[ax, ay, aw] = statsPerBin(aInt, aErr, 50);
plot(ax(:,1),ay(:,1),'--k')
plot(ax(:,1),ay(:,2),'.k')
plot(ax(:,1),ay(:,3),'--k')

title('All plates : Color = distance')
xlabel('intensity');
ylabel('error (m)');
ylim([-0.1, 0.1]);
%xlim([0, 14000]);
